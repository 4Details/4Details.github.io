<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>王旭的博客</title>
  
  
  <link href="http://yoursite.com/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-08-29T14:03:15.937Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>wangxu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>回文串引发的“血案”</title>
    <link href="http://yoursite.com/2020/08/28/%E5%9B%9E%E6%96%87%E4%B8%B2%E5%BC%95%E5%8F%91%E7%9A%84%E2%80%9C%E8%A1%80%E6%A1%88%E2%80%9D/"/>
    <id>http://yoursite.com/2020/08/28/%E5%9B%9E%E6%96%87%E4%B8%B2%E5%BC%95%E5%8F%91%E7%9A%84%E2%80%9C%E8%A1%80%E6%A1%88%E2%80%9D/</id>
    <published>2020-08-28T22:10:52.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="简单枚举"><a href="#简单枚举" class="headerlink" title="简单枚举"></a>简单枚举</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基于中心线枚举</span></span><br><span class="line">Class Solution:</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span>(<span class="params">self,s</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        </span><br><span class="line">        self.start, self.longest = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> middle <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            self.find_longest_palidrome_from(s, middle, middle)</span><br><span class="line">            self.find_longest_palidrome_from(s, middle, middle+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> s[self.start:self.start + self.longest]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find_longest_palidrome_from</span>(<span class="params">self, s, left, right</span>):</span></span><br><span class="line">        <span class="keyword">while</span> left &gt;= <span class="number">0</span> <span class="keyword">and</span> right &lt; len(s) <span class="keyword">and</span> s[left] == s[right]:</span><br><span class="line">            left -= <span class="number">1</span></span><br><span class="line">            right += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.longest &lt; right -left <span class="number">-1</span>:</span><br><span class="line">            self.longest = right - left <span class="number">-1</span></span><br><span class="line">            self.start = left +<span class="number">1</span></span><br></pre></td></tr></table></figure><h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基于动态规划（区间型：从小到大枚举区间）</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span>(<span class="params">self, s</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        </span><br><span class="line">        n = len(s)</span><br><span class="line">        is_palindrome = [[<span class="literal">False</span>] * n <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            is_palindrome[i][i] = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">            is_palindrome[i][i<span class="number">-1</span>] = <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line">        start, longest = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> length <span class="keyword">in</span> range(<span class="number">2</span>, n<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n - length + <span class="number">1</span>):</span><br><span class="line">                j = i + length <span class="number">-1</span></span><br><span class="line">                is_palindrome[i][j] = is_palindrome[i+<span class="number">1</span>][j<span class="number">-1</span>] <span class="keyword">and</span> s[i] == s[j]</span><br><span class="line">                <span class="keyword">if</span> is_palindrome[i][j] <span class="keyword">and</span> length &gt; longest:</span><br><span class="line">                    longest = length</span><br><span class="line">                    start = i</span><br><span class="line">         <span class="keyword">return</span> s[start:start + longest]</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;简单枚举&quot;&gt;&lt;a href=&quot;#简单枚举&quot; class=&quot;headerlink&quot; title=&quot;简单枚举&quot;&gt;&lt;/a&gt;简单枚举&lt;/h1&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;p</summary>
      
    
    
    
    <category term="算法笔记" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="回文串" scheme="http://yoursite.com/tags/%E5%9B%9E%E6%96%87%E4%B8%B2/"/>
    
    <category term="动态规划" scheme="http://yoursite.com/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>FATE 1.2 实践02-FATE集群部署</title>
    <link href="http://yoursite.com/2020/08/27/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/"/>
    <id>http://yoursite.com/2020/08/27/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/</id>
    <published>2020-08-27T13:49:03.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="配置FATE环境"><a href="#配置FATE环境" class="headerlink" title="配置FATE环境"></a>配置FATE环境</h1><p>第1步中虚拟机创建完成后的信息如下</p><table><thead><tr><th>主机名</th><th>host155</th><th>guest156</th><th>guest157</th></tr></thead><tbody><tr><td>IP</td><td>192.168.119.155</td><td>192.168.119.156</td><td>192.168.119.157</td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><p>下面的步骤均是依据官方文档操作 </p><h2 id="基础环境配置"><a href="#基础环境配置" class="headerlink" title="基础环境配置"></a>基础环境配置</h2><p>注意：不特殊说明，下面配置需要在所有机器上操作！！</p><p>由于在创建虚拟机过程中已经更改过每台主机名、创建用户app，所以文档中hostname配置可跳过。</p><p>root权限下创建文件夹  /data/projects 归属 app用户</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;切换root用户，-p创建文件夹，给app用户赋予权限</span><br><span class="line">su root</span><br><span class="line">mkdir -p &#x2F;data&#x2F;projects</span><br><span class="line">chown -R app &#x2F;data&#x2F;projects</span><br></pre></td></tr></table></figure><h3 id="关闭selinux"><a href="#关闭selinux" class="headerlink" title="关闭selinux"></a>关闭selinux</h3><p>确认是否已安装selinux</p><p>centos系统执行：rpm -qa | grep selinux</p><p>ubuntu系统执行：apt list –installed | grep selinux</p><p>如果已安装了selinux就执行：setenforce 0</p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578365450270-a035c23e-1738-417f-89d1-fa1e9456064c.png" alt="关闭selinux"></p><h3 id="修改Linux最大打开文件数"><a href="#修改Linux最大打开文件数" class="headerlink" title="修改Linux最大打开文件数"></a>修改Linux最大打开文件数</h3><p>切换root用户，在limits.conf文件最后添加5、6行代码，保存退出</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;security&#x2F;limits.conf</span><br><span class="line"></span><br><span class="line">* soft nofile 65536</span><br><span class="line">* hard nofile 65536</span><br></pre></td></tr></table></figure><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578365728781-dc1352aa-9d0c-4400-81a4-1e28ecca6bcd.png" alt="编辑最大打开文件数"></p><h3 id="添加主机映射"><a href="#添加主机映射" class="headerlink" title="添加主机映射"></a>添加主机映射</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;hosts</span><br></pre></td></tr></table></figure><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578485849702-675aea11-871a-4201-8868-bc0a2653849d.png" alt="添加主机映射"></p><h3 id="关闭虚拟机防火墙"><a href="#关闭虚拟机防火墙" class="headerlink" title="关闭虚拟机防火墙"></a>关闭虚拟机防火墙</h3><p>在实际生产环境中需要配置防火墙端口规则！虚拟机环境下采用关闭防火墙的方式。</p><p>如果是Centos系统：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewalld.service</span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl status firewalld.service</span><br></pre></td></tr></table></figure><p>本例的环境是Centos系统</p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578380317690-ecb24d9b-0cf9-47df-b92e-03330fbd8e92.png" alt="关闭虚拟机防火墙"></p><p>如果是Ubuntu系统：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ufw disable</span><br><span class="line">ufw status</span><br></pre></td></tr></table></figure><h3 id="给用户赋予sudo权限"><a href="#给用户赋予sudo权限" class="headerlink" title="给用户赋予sudo权限"></a>给用户赋予sudo权限</h3><p>root用户下对app用户赋予sudo权限</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;sudoers.d&#x2F;app</span><br><span class="line"></span><br><span class="line">app ALL&#x3D;(ALL) ALL</span><br><span class="line">app ALL&#x3D;(ALL) NOPASSWD: ALL</span><br><span class="line">Defaults !env_reset</span><br></pre></td></tr></table></figure><h3 id="配置ssh远程登录"><a href="#配置ssh远程登录" class="headerlink" title="配置ssh远程登录"></a>配置ssh远程登录</h3><p><strong>a. 切换app用户，生成rsa_id，具体根据下面代码</strong></p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578380760894-2368928b-1570-451c-aac0-649a1afbcacd.png" alt="配置ssh登录01"></p><p><strong>b.合并id_rsa_pub文件</strong></p><p><strong>步骤如下：三台机器分别将id_rsa.pub 写入authorized_keys文件中并且赋予权限chomd 600</strong></p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578381412726-a1b69944-771d-4101-84ab-1f984304c52a.png" alt="配置ssh登录02"></p><p>155通过scp将authorized_keys文件发送到156上，并将156的id_rsa.pub文件写入，然后将生成的新文件发送至157上，并且写入157生成的id_rsa.pub文件，将最终生成的authorized_keys文件发送给155和156，此时通过ssh即可登录（在发送文件过程中建立连接需要输入密码）</p><p>155-&gt;156</p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578381586236-3903e88e-0851-43ea-9d00-aeff64e00d90.png" alt="155-&gt;156"></p><p>156写入， -&gt;157</p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578381654023-9f91941b-d097-4fee-abef-b1c2e5dae98d.png" alt="156-&gt;157"></p><p>157写入，-&gt;155  -&gt;156</p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578381710128-b920208b-7d45-48a8-887f-c2dbdab925e6.png" alt="157-&gt;155 156"></p><p><strong>上述完成之后即可通过  ssh usernane@ip访问某台虚拟机</strong></p><p>需要注意的是，访问自身需要重新建立一个连接。</p><p>建议配置以上步骤之后拍摄虚拟机快照，便于后期恢复重新部署。</p><h2 id="FATE部署"><a href="#FATE部署" class="headerlink" title="FATE部署"></a>FATE部署</h2><p>完成基础环境配置之后，接下来就需要部署FATE的运行环境，本例使用的是<a href="https://github.com/FederatedAI/FATE/blob/master/cluster-deploy/doc/Fate-cluster_deployment_guide_install_zh.md">Installation</a>文档。</p><p>下面的操作<strong>只需在其中一台机器操作即可</strong>，本例选用的是host 155。</p><h3 id="下载压缩包"><a href="#下载压缩包" class="headerlink" title="下载压缩包"></a>下载压缩包</h3><p>可以使用wget下载，也可以直接通过<a href="https://webank-ai-1251170195.cos.ap-guangzhou.myqcloud.com/FATE_install_v1.2.0.tar.gz">链接</a>下载。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;data&#x2F;projects</span><br><span class="line">wget https:&#x2F;&#x2F;webank-ai-1251170195.cos.ap-guangzhou.myqcloud.com&#x2F;FATE_install_v1.2.0.tar.gz</span><br><span class="line">tar -xf FATE_install_v1.2.0.tar.gz</span><br></pre></td></tr></table></figure><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578399494803-2fb7d502-0815-4840-82f0-a68e4e8110dc.png" alt="下载压缩包并解压"></p><h3 id="修改configuration文件"><a href="#修改configuration文件" class="headerlink" title="修改configuration文件"></a>修改configuration文件</h3><p>可以使用vim，也可以直接使用编辑器打开并修改。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;data&#x2F;projects&#x2F;FATE&#x2F;cluster-deploy&#x2F;script</span><br><span class="line">vi multinode_cluster_configuration.sh</span><br></pre></td></tr></table></figure><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578399969465-c030b14f-baac-4dc3-ba3b-96fdbb9150ba.png" alt="修改conf文件"></p><p><img src="/images/FATE-1-2-%E5%AE%9E%E8%B7%B502%EF%BC%9AFATE%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2.assets/1578399984843-bece1ed0-8147-4754-9ba9-14014be1d75b.png" alt="b端配置"></p><p>建议在部署之前拍摄快照，为防止在部署过程中因某些配置出错造成部署失败。</p><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>本例中选择在各机器上部署所有组件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd FATE&#x2F;cluster-deploy&#x2F;scripts</span><br><span class="line"># 部署所有组件</span><br><span class="line">bash deploy_cluster_multinode.sh binary all </span><br><span class="line"># 只部署部分组件(可选：jdk python mysql redis fate_flow federatedml fateboard proxy federation roll meta-service egg)：</span><br><span class="line">bash deploy_cluster_multinode.sh binary fate_flow</span><br></pre></td></tr></table></figure><p>-———————————————————————————————————————-</p><p>———————————————–漫长地等待过程——————————————————–</p><p>-———————————————————————————————————————-</p><p>（部署时间暂未统计，时间需要2-4个小时，记录下了部署过程中终端产生的日志）</p><p>此处为语雀文档，点击链接查看：<a href="https://www.yuque.com/u190689/qoiq3w/seeq38">https://www.yuque.com/u190689/qoiq3w/seeq38</a></p><h2 id="配置检查"><a href="#配置检查" class="headerlink" title="配置检查"></a>配置检查</h2><p>请务必详细对照检查！！！</p><p>到各个目标服务器上进行检查对应模块的配置是否准确，每个模块的对应配置文件所在路径可在此配置文件下查看，参考：<a href="https://github.com/FederatedAI/FATE/blob/master/cluster-deploy/doc/configuration.md">https://github.com/FederatedAI/FATE/blob/master/cluster-deploy/doc/configuration.md</a></p><p>至此，FATE v1.2的安装部署全部结束，接下来测试环境。</p><p>建议部署成功之后拍摄快照，便于将来找到还原点。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;配置FATE环境&quot;&gt;&lt;a href=&quot;#配置FATE环境&quot; class=&quot;headerlink&quot; title=&quot;配置FATE环境&quot;&gt;&lt;/a&gt;配置FATE环境&lt;/h1&gt;&lt;p&gt;第1步中虚拟机创建完成后的信息如下&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th</summary>
      
    
    
    
    <category term="联邦学习" scheme="http://yoursite.com/categories/%E8%81%94%E9%82%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="FATE" scheme="http://yoursite.com/tags/FATE/"/>
    
    <category term="FL" scheme="http://yoursite.com/tags/FL/"/>
    
  </entry>
  
  <entry>
    <title>FATE 1.2 实践01-虚拟机安装</title>
    <link href="http://yoursite.com/2020/08/27/FATE-1-2-%E5%AE%9E%E8%B7%B501%EF%BC%9A%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85/"/>
    <id>http://yoursite.com/2020/08/27/FATE-1-2-%E5%AE%9E%E8%B7%B501%EF%BC%9A%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85/</id>
    <published>2020-08-27T10:10:29.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="创建虚拟机"><a href="#创建虚拟机" class="headerlink" title="创建虚拟机"></a>创建虚拟机</h1><h2 id="新建虚拟机"><a href="#新建虚拟机" class="headerlink" title="新建虚拟机"></a>新建虚拟机</h2><p>使用VMWare WorkStation创建虚拟机（单机版只需要一台机器，集群版可以使用多台机器，下面示例中创建了3台虚拟机，配置均为 300G，16GB，4核处理器，系统镜像为 CentOS-7-x86_64-DVD-1810版本）</p><p>![新建向导1-创建包含空白硬盘的虚拟机](/images/FATE 1.2 实践01-虚拟机安装/1578211619356-f76a066f-77d1-4e59-bac3-c373a9822dca.png)</p><p>![新建向导2-选择客户机操作系统](/images/FATE 1.2 实践01-虚拟机安装/1578211631941-df372176-acae-452f-aba5-e354012fe5f3.png)</p><p>![新建向导3-命名虚拟机](/images/FATE 1.2 实践01-虚拟机安装/1578211648272-b1667e39-59da-47c9-a326-d6dee2a57c01.png)</p><p>![新建向导4-指定磁盘容量](/images/FATE 1.2 实践01-虚拟机安装/1578211986949-3b397809-17f7-4da8-adbb-5a9bf005419d.png)                         </p><p>![新建向导5-配置硬件信息](/images/FATE 1.2 实践01-虚拟机安装/1578212074493-4a7b30de-9d8b-4179-83cf-65770884ea44.png)</p><p>![新建向导5-配置硬件信息](/images/FATE 1.2 实践01-虚拟机安装/1578212497000-3b362b69-9acc-457f-8827-ebf3551f3858.png)</p><p>![虚拟机详细配置信息](/images/FATE 1.2 实践01-虚拟机安装/1578212160231-787ca313-3b1c-408e-a053-e2ef15489642.png)                                       </p><h2 id="配置操作系统"><a href="#配置操作系统" class="headerlink" title="配置操作系统"></a>配置操作系统</h2><p><strong>启动虚拟机，加载并配置操作系统</strong></p><p>![选择默认语言](/images/FATE 1.2 实践01-虚拟机安装/1578212891912-86368f3c-b915-4e88-8429-94eadfdb17f8.png)     </p><p>  ![image.png](/images/FATE 1.2 实践01-虚拟机安装/1578213042405-3d3882a5-eba1-4c84-b1e4-ccbab97de9d7.png)</p><p>此处选择默认语言为【简体中文】，可以直接在编辑框输入快速查找。下一步则需要配置系统的软件、磁盘分区、网络等信息。</p><p>![详细配置](/images/FATE 1.2 实践01-虚拟机安装/1578213182245-ffd02e18-c25e-4678-9f01-2e739060c606.png)</p><p>这里需要注意的是详细配置图中标注的1，2，3。本例中详细的配置如下：</p><p>![软件选择](/images/FATE 1.2 实践01-虚拟机安装/1578213258382-d9854dc5-5778-4f2c-967e-8480f72425bb.png)</p><p>本例中选择的是GNOME桌面版的软件，已选环境附加选项可根据实际需要选择，选择桌面版的可视化环境有利于后续工作的进行。下一步选择安装目标位置中提前配置分区信息尤为重要！！！</p><p>![安装目标位置1-重新配置分区](/images/FATE 1.2 实践01-虚拟机安装/1578213312407-738ef352-50ea-40f5-8c5e-e7b8979be917.png)</p><p>![安装目标位置2-选择自动创建分区](/images/FATE 1.2 实践01-虚拟机安装/1578213342097-9320d6a9-2d4f-4b79-ae7f-65ee9738202c.png)</p><p>![安装目标位置3-重新配置分区磁盘](/images/FATE 1.2 实践01-虚拟机安装/1578213415357-a2e519d4-f0ef-4c11-87fd-c2c56b5fa507.png)</p><p>官方文档中建议全部磁盘挂载到新建的用户app下，但是本例中将大部分磁盘挂载到root下，经实践是有效的，在如上配置之后点击【完成】即可完成磁盘及分区的配置。</p><p>下一步需要提前完成系统网络信息的配置，如主机名、ip、子网掩码、DNS、路由信息等。</p><p>![配置主机名](/images/FATE 1.2 实践01-虚拟机安装/1578213943847-be3ce5b6-ed0f-4881-b5b9-70a653ffe581.png)</p><p>点击【配置】可进入ip、DNS等信息的配置。</p><p>![网络信息详细配置](/images/FATE 1.2 实践01-虚拟机安装/1578214029364-e40dc499-9843-4930-8cc8-bbe7a45cb666.png)</p><p>在上图的配置中需要注意的是，选择手动配置IPv4的信息，地址、子网掩码和网关需要配置正确，本例中DNS服务器默认为网关信息。网络信息配置完成之后可以【开启】以太网的连接，详细的信息可以参考下图</p><p>![网络配置详细信息](/images/FATE 1.2 实践01-虚拟机安装/1578214278690-9d37e778-1145-42b9-916d-e61d53b056c5.png)</p><p>1，2，3的所有信息完成配置之后点击【开始安装】则进入安装界面，此时可以配置系统root用户的密码以及新建用户。本例中遵循官方文档创建用户 app，在“高级用户配置”中，编辑app分属apps组，用户id为6000。</p><p>![安装进度页面](/images/FATE 1.2 实践01-虚拟机安装/1578214428608-d9cd0512-bddb-4fc7-b022-67dfd3849d0f.png)</p><p>![高级用户配置](/images/FATE 1.2 实践01-虚拟机安装/1578214478054-80630f51-9a98-42ed-a785-42b58a0d1312.png)</p><p>等待安装完成，【重启】即可进入桌面版的centos7 操作系统。</p><p>![等待重启](/images/FATE 1.2 实践01-虚拟机安装/1578215717450-609c6d2b-2ceb-449c-86fd-0ef8daecbce6.png)</p><p>初始设置需要接受许可证协议，【完成配置】即可登录输入密码，进入系统。</p><p>![许可证](/images/FATE 1.2 实践01-虚拟机安装/1578215847178-545b18e3-a15b-4a0d-9475-ee1bbb3631f2.png)</p><p><strong>提示：</strong>在实际操作中无需一步步按照上述步骤创建三台或多台虚拟机，在创建完成一台虚拟机之后可以通过“克隆”操作得到已安装完成的虚拟机镜像，这样可以在一定程度上节约创建虚拟机的时间，需要注意的是，在克隆完成启动之前需要重新生成机器的mac地址，否则会造成mac冲突。因为原始虚拟机使用的是静态地址，所以在开启之后需要重新对副本虚拟机分配静态IP。</p><p>克隆方法主要是： 点击 <strong>虚拟机-管理-克隆</strong>  使用克隆虚拟机向导</p><p>![克隆虚拟机01](/images/FATE 1.2 实践01-虚拟机安装/1578289326701-c9d9cbf8-c722-417d-9fc2-2778a37041c1.png)</p><p>![克隆虚拟机02](/images/FATE 1.2 实践01-虚拟机安装/1578289363276-dbcda949-dd42-465c-a981-1dfe75e101c6.png)</p><p>![克隆虚拟机03](/images/FATE 1.2 实践01-虚拟机安装/1578289390103-91ec1bac-0ad9-412a-94a2-6b5343a850f5.png)</p><p><strong>重命名和选择虚拟机所在路径之后点击【完成】即可。</strong></p><p>![重命名01](/images/FATE 1.2 实践01-虚拟机安装/1578289456259-1bf9f72d-24df-4056-8b78-91206ac8723f.png)</p><p>![重命名02](/images/FATE 1.2 实践01-虚拟机安装/1578289469898-3cf24c9f-9555-4a20-8bcd-d0e4de56eefd.png)</p><p>![克隆完成后的配置](/images/FATE 1.2 实践01-虚拟机安装/1578287585987-8c999e3a-1337-4548-8d74-3c08fe796f02.png)</p><p>打开虚拟机之后可以使用  ifconfig查看网络配置信息</p><p>![查看配置](/images/FATE 1.2 实践01-虚拟机安装/1578288131550-c9753bd9-6886-4dd4-9ce6-bc87971b482b.png)</p><p>需要更改的信息有 主机名、ip</p><p>![修改信息01](/images/FATE 1.2 实践01-虚拟机安装/1578288307841-e6299fea-87c6-41fe-822f-6649e02f4d8e.png)</p><p>配置IP信息主要路径在 /etc/sysconfig/network-script，修改 sysconf-ens33 （ens33指的是网卡名称）</p><p>文件中可以修改的有是否静态ip，PROTO一项改为 static  配置ip地址，子网掩码，网关，dns</p><p>![修改信息02](/images/FATE 1.2 实践01-虚拟机安装/1578288596711-36122905-dd83-4146-9119-abbe8de4ae92.png)</p><p>进入编辑页面</p><p>![修改信息03](/images/FATE 1.2 实践01-虚拟机安装/1578288653339-0a91cfbd-67ba-482a-a533-dac9fe4a1c67.png)</p><p>半角状态输入’i’可修改内容，修改完成如下，Esc退出编辑，”:wq”可以保存修改并退出vim编辑页面</p><p>![修改信息04](/images/FATE 1.2 实践01-虚拟机安装/1578288819423-b94e630c-3bc7-4c08-9f67-cde7aba7af8e.png)</p><p>重启之后使用ifconfig查看，ip已经改变。</p><p>克隆得到另外两台虚拟机，按上述步骤修改IP信息之后即完成了本例中的创建虚拟机步骤。</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;创建虚拟机&quot;&gt;&lt;a href=&quot;#创建虚拟机&quot; class=&quot;headerlink&quot; title=&quot;创建虚拟机&quot;&gt;&lt;/a&gt;创建虚拟机&lt;/h1&gt;&lt;h2 id=&quot;新建虚拟机&quot;&gt;&lt;a href=&quot;#新建虚拟机&quot; class=&quot;headerlink&quot; title=&quot;新建虚</summary>
      
    
    
    
    <category term="联邦学习" scheme="http://yoursite.com/categories/%E8%81%94%E9%82%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="FATE" scheme="http://yoursite.com/tags/FATE/"/>
    
    <category term="FL" scheme="http://yoursite.com/tags/FL/"/>
    
  </entry>
  
  <entry>
    <title>找不到请求的.Net Framework Data Provider.可能没有安装.  错误</title>
    <link href="http://yoursite.com/2019/07/27/%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AF%B7%E6%B1%82%E7%9A%84-Net-Framework-Data-Provider-%E5%8F%AF%E8%83%BD%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85-%E9%94%99%E8%AF%AF/"/>
    <id>http://yoursite.com/2019/07/27/%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AF%B7%E6%B1%82%E7%9A%84-Net-Framework-Data-Provider-%E5%8F%AF%E8%83%BD%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85-%E9%94%99%E8%AF%AF/</id>
    <published>2019-07-27T16:23:27.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h1><p>这几天在装.NET 的开发环境，在装好VS2013和Oracle 11g之后，做了一个测试项目，运行调试没问题<br>但是涉及到数据库相关操作，如新建数据集、连接数据库等在调试的时候则会出现如下错误：</p><p><img src="https://img-blog.csdn.net/20180724122125269?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTIzODI0MjU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="找不到请求的 .Net Framework Data Provider。可能没有安装"></p><h1 id="目前百度之后现存的解决方案："><a href="#目前百度之后现存的解决方案：" class="headerlink" title="目前百度之后现存的解决方案："></a>目前百度之后现存的解决方案：</h1><ol><li><p>oracle odp.net 32位/64位版本的问题<br><a href="http://www.cnblogs.com/yjmyzz/archive/2011/04/19/2020793.html">解决方案链接</a>；当然如果觉得这篇写的不怎么清楚，还可以点击 <a href="https://www.cnblogs.com/gudi/p/6110875.html">这里</a><br><strong>*（我碰到的就是这个问题，但是据博主提供的方法没有解决问题）*</strong></p></li><li><p>Microsoft SQL Server Compact 4.0没有安装 这个问题是比较好解决的，只用安装Microsoft SQL Server Compact<br>4.0即可，具体可以点击<a href="https://blog.csdn.net/yuchou123456789/article/details/7031206">这里</a></p></li><li><p>还有修改machine.config配置文件的方法，大家也可以尝试<a href="http://qihuayu2010.blog.163.com/blog/static/18790015920138235546382/">点击这里</a></p><p>当然如果你的数据库使用的Oracle，节点配置的时候需要根据实际情况做出调整。<br>具体文件配置路径：C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Config下面的machine.config<br>用记事本打开，查看下列节点是否存在oracle的相关配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;system.data&gt;</span><br><span class="line">    &lt;DbProviderFactories&gt;</span><br><span class="line">      &lt;add name&#x3D;&quot;ODP.NET, Managed Driver&quot; invariant&#x3D;&quot;Oracle.ManagedDataAccess.Client&quot; description&#x3D;&quot;Oracle Data Provider for .NET, Managed Driver&quot; type&#x3D;&quot;Oracle.ManagedDataAccess.Client.OracleClientFactory, Oracle.ManagedDataAccess, Version&#x3D;4.121.2.0, Culture&#x3D;neutral, PublicKeyToken&#x3D;89b483f429c47342&quot; &#x2F;&gt;</span><br><span class="line">      &lt;add name&#x3D;&quot;Microsoft SQL Server Compact Data Provider 4.0&quot; invariant&#x3D;&quot;System.Data.SqlServerCe.4.0&quot; description&#x3D;&quot;.NET Framework Data Provider for Microsoft SQL Server Compact&quot; type&#x3D;&quot;System.Data.SqlServerCe.SqlCeProviderFactory, System.Data.SqlServerCe, Version&#x3D;4.0.0.0, Culture&#x3D;neutral, PublicKeyToken&#x3D;89845dcd8080cc91&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;DbProviderFactories&gt;</span><br><span class="line">  &lt;&#x2F;system.data&gt;</span><br></pre></td></tr></table></figure><p>新添加的应该是这一块：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;add name&#x3D;&quot;ODP.NET, Managed Driver&quot; invariant&#x3D;&quot;Oracle.ManagedDataAccess.Client&quot; description&#x3D;&quot;Oracle Data Provider for .NET, Managed Driver&quot; type&#x3D;&quot;Oracle.ManagedDataAccess.Client.OracleClientFactory, Oracle.ManagedDataAccess, Version&#x3D;4.121.2.0, Culture&#x3D;neutral, PublicKeyToken&#x3D;89b483f429c47342&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure><h1 id="个人解决方案"><a href="#个人解决方案" class="headerlink" title="个人解决方案"></a>个人解决方案</h1><p>前面说过了，我尝试了上述的一些办法之后仍然没有解决问题，熬不住了我就去csdn的论坛发了帖，等了半个小时没人回复（可能是积分太少吧），无奈我就自己继续鼓捣了。想起来自己有一个 ODAC 12c的安装包，就直接点击安装了，安装完成之后重启VS，继续新建项目，配置数据库，调试之后竟然没有再继续报错，也就是说这个问题被我糊里糊涂解决了，哈哈哈~</p><p>写一篇记录一下，给各位一个借鉴也给自己一个教训。<br>下面提供ODAC 12c的下载地址</p><p>官方下载地址：<a href="http://www.oracle.com/technetwork/database/windows/downloads/index-090165.html">x64下载</a>、<a href="http://www.oracle.com/technetwork/topics/dotnet/utilsoft-086879.html">x86下载</a></p><p>如果没有oracle账号又或是账号无法登陆，可以通过这个<a href="https://pan.baidu.com/s/13JEqOxtnqwVIu1ohEKds2g">链接</a>下载， 密码：amvz</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;问题：&quot;&gt;&lt;a href=&quot;#问题：&quot; class=&quot;headerlink&quot; title=&quot;问题：&quot;&gt;&lt;/a&gt;问题：&lt;/h1&gt;&lt;p&gt;这几天在装.NET 的开发环境，在装好VS2013和Oracle 11g之后，做了一个测试项目，运行调试没问题&lt;br&gt;但是涉及到数据</summary>
      
    
    
    
    <category term="编程笔记" scheme="http://yoursite.com/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term=".net" scheme="http://yoursite.com/tags/net/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区15  -  检查登录状态</title>
    <link href="http://yoursite.com/2019/07/08/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA15%20-%20%E6%A3%80%E6%9F%A5%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81/"/>
    <id>http://yoursite.com/2019/07/08/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA15%20-%20%E6%A3%80%E6%9F%A5%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81/</id>
    <published>2019-07-08T23:31:01.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>使用拦截器</p><ul><li>在方法前标注自定义注解</li><li>拦截所有请求，只处理带有该注解的方法</li></ul></li><li><p>自定义注解</p><ul><li>常用的元注解：<br><code>@Target</code>、<code>@Retention</code>、<code>@Document</code>、<code>@Inherited</code></li></ul><blockquote><p><code>@Target</code>声明自定义注解的位置（类？方法？属性？）</p><p><code>@Retention</code>  自定义注解的有效时间（编译时？运行时？）</p><p><code>@Document</code>  生成文档是否携带注解？</p><p><code>@Inherited</code>  子类继承父类是否继承注解？</p></blockquote></li><li><p>如何读取注解：<br><code>Method.getDeclaredAnnotations ()</code>  //获取方法上所有注解<br><code>Method.getAnnotation (Class&lt;T&gt; annotationClass)</code></p></li></ul><p>项目中添加自定义注解：</p><ol><li>定义自定义注解的类，无需详细实现方法，只需声明为接口，且加上<code>@Target</code>、<code>@Retention</code></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> LoginRequired &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>在需要使用的方法（如上则是在必须登录之后才能访问的路径处）加上<code>@LoginRequired</code></li><li>拦截器的使用逻辑，拦截有自定义注解的方法，进一步判断，符合则继续，不符合则拒绝</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.wx.talking.annotation.LoginRequired;</span><br><span class="line"><span class="keyword">import</span> com.wx.talking.util.HostHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.method.HandlerMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginRequiredInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> HostHolder hostHolder;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (handler <span class="keyword">instanceof</span> HandlerMethod) &#123;</span><br><span class="line">            HandlerMethod handlerMethod = (HandlerMethod) handler;</span><br><span class="line">            <span class="comment">// 获取拦截的对象</span></span><br><span class="line">            Method method = handlerMethod.getMethod();</span><br><span class="line">            LoginRequired loginRequired = method.getAnnotation(LoginRequired.class);</span><br><span class="line">            <span class="comment">// 需要登录但当前用户未登录，重定向到首页</span></span><br><span class="line">            <span class="keyword">if</span> (loginRequired != <span class="keyword">null</span> &amp;&amp; hostHolder.getUser() == <span class="keyword">null</span>) &#123;</span><br><span class="line">                response.sendRedirect(request.getContextPath() + <span class="string">&quot;/login&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>配置拦截器，不拦截静态文件等</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebMvcConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123; </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line"> registry.addInterceptor(loginRequiredInterceptor)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/**/*.css&quot;</span>, <span class="string">&quot;/**/*.js&quot;</span>, <span class="string">&quot;/**/*.png&quot;</span>, <span class="string">&quot;/**/*.jpg&quot;</span>, <span class="string">&quot;/**/*.jpeg&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;使用拦截器&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在方法前标注自定义注解&lt;/li&gt;
&lt;li&gt;拦截所有请求，只处理带有该注解的方法&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;自定义注解&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;常用的元注解：&lt;br&gt;&lt;code&gt;@Target&lt;/</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="拦截器" scheme="http://yoursite.com/tags/%E6%8B%A6%E6%88%AA%E5%99%A8/"/>
    
    <category term="注解" scheme="http://yoursite.com/tags/%E6%B3%A8%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区14  -  账号设置</title>
    <link href="http://yoursite.com/2019/07/07/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA14%20-%20%E8%B4%A6%E5%8F%B7%E8%AE%BE%E7%BD%AE/"/>
    <id>http://yoursite.com/2019/07/07/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA14%20-%20%E8%B4%A6%E5%8F%B7%E8%AE%BE%E7%BD%AE/</id>
    <published>2019-07-07T21:35:01.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>上传文件</p><ul><li>请求：必须是POST请求</li><li>表单：enctype=“multipart/form-data”</li><li>Spring MVC：通过 MultipartFile 处理上传文件</li></ul></li><li><p>开发步骤</p><ul><li>访问账号设置页面</li></ul><blockquote><p>Service定义访问路径，模板页修改</p></blockquote><ul><li>上传头像</li></ul><blockquote><p>定义上传路径</p><p>视图层更新</p></blockquote><ul><li>获取头像</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;上传文件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;请求：必须是POST请求&lt;/li&gt;
&lt;li&gt;表单：enctype=“multipart/form-data”&lt;/li&gt;
&lt;li&gt;Spring MVC：通过 MultipartFile 处理上传文件&lt;/li&gt;
&lt;/ul&gt;
</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Spring MVC" scheme="http://yoursite.com/tags/Spring-MVC/"/>
    
    <category term="MultipartFile" scheme="http://yoursite.com/tags/MultipartFile/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区13  -  显示登录信息</title>
    <link href="http://yoursite.com/2019/07/05/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA13%20-%20%E6%98%BE%E7%A4%BA%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF/"/>
    <id>http://yoursite.com/2019/07/05/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA13%20-%20%E6%98%BE%E7%A4%BA%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF/</id>
    <published>2019-07-05T22:25:45.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>拦截器示例</p><ul><li>定义拦截器，实现HandlerInterceptor</li><li>配置拦截器，为它指定拦截、排除的路径</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebMvcConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AlphaInterceptor alphaInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoginTicketInterceptor loginTicketInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoginRequiredInterceptor loginRequiredInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addInterceptor(alphaInterceptor)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/**/*.css&quot;</span>, <span class="string">&quot;/**/*.js&quot;</span>, <span class="string">&quot;/**/*.png&quot;</span>, <span class="string">&quot;/**/*.jpg&quot;</span>, <span class="string">&quot;/**/*.jpeg&quot;</span>)</span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/register&quot;</span>, <span class="string">&quot;/login&quot;</span>);</span><br><span class="line"></span><br><span class="line">        registry.addInterceptor(loginTicketInterceptor)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/**/*.css&quot;</span>, <span class="string">&quot;/**/*.js&quot;</span>, <span class="string">&quot;/**/*.png&quot;</span>, <span class="string">&quot;/**/*.jpg&quot;</span>, <span class="string">&quot;/**/*.jpeg&quot;</span>);</span><br><span class="line"></span><br><span class="line">        registry.addInterceptor(loginRequiredInterceptor)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/**/*.css&quot;</span>, <span class="string">&quot;/**/*.js&quot;</span>, <span class="string">&quot;/**/*.png&quot;</span>, <span class="string">&quot;/**/*.jpg&quot;</span>, <span class="string">&quot;/**/*.jpeg&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>拦截器应用</p><ul><li>在请求开始时查询登录用户</li><li>在本次请求中持有用户数据</li></ul><blockquote><p>需要暂存用户数据，使用本地的类暂存？</p><p>Client访问Server是多线程的，多对一。所以存储用户数据的时候需要考虑多线程，如果仅简单存储用户数据，在并发情况下可能会造成数据混乱。</p><p><strong>线程隔离</strong> ThreadLocal</p></blockquote><ul><li>在模板视图上显示用户数据</li><li>在请求结束时清理用户数据</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;拦截器示例&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;定义拦截器，实现HandlerInterceptor&lt;/li&gt;
&lt;li&gt;配置拦截器，为它指定拦截、排除的路径&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="拦截器" scheme="http://yoursite.com/tags/%E6%8B%A6%E6%88%AA%E5%99%A8/"/>
    
    <category term="ThreadLocal" scheme="http://yoursite.com/tags/ThreadLocal/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区12  -  登录、退出功能实现</title>
    <link href="http://yoursite.com/2019/07/04/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA12%20-%20%E7%99%BB%E5%BD%95%E3%80%81%E9%80%80%E5%87%BA%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2019/07/04/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA12%20-%20%E7%99%BB%E5%BD%95%E3%80%81%E9%80%80%E5%87%BA%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/</id>
    <published>2019-07-04T23:15:40.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li>访问登录页面<ul><li>点击顶部区域内的链接，打开登录页面。</li></ul></li><li>登录<ul><li>验证账号、密码、验证码。</li><li>成功时，生成登录凭证，发放给客户端。</li><li>失败时，跳转回登录页。</li></ul></li><li>退出<ul><li>将登录凭证修改为失效状态。</li><li>跳转至网站首页。</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;访问登录页面&lt;ul&gt;
&lt;li&gt;点击顶部区域内的链接，打开登录页面。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;登录&lt;ul&gt;
&lt;li&gt;验证账号、密码、验证码。&lt;/li&gt;
&lt;li&gt;成功时，生成登录凭证，发放给客户端。&lt;/li&gt;
&lt;li&gt;失败时，跳转回登录页。&lt;/li</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区11  -  图片验证码</title>
    <link href="http://yoursite.com/2019/07/02/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA11%20-%20%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E7%A0%81/"/>
    <id>http://yoursite.com/2019/07/02/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA11%20-%20%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E7%A0%81/</id>
    <published>2019-07-02T21:05:40.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<p>Kaptcha</p><ul><li>导入 jar 包</li><li>编写 Kaptcha 配置类</li><li>生成随机字符、生成图片</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Kaptcha&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;导入 jar 包&lt;/li&gt;
&lt;li&gt;编写 Kaptcha 配置类&lt;/li&gt;
&lt;li&gt;生成随机字符、生成图片&lt;/li&gt;
&lt;/ul&gt;
</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="图片验证码" scheme="http://yoursite.com/tags/%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区10  -  会话管理</title>
    <link href="http://yoursite.com/2019/07/01/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA10%20-%20%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86/"/>
    <id>http://yoursite.com/2019/07/01/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA10%20-%20%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86/</id>
    <published>2019-07-01T20:15:21.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>HTTP的基本性质</p><ul><li>HTTP是简单的</li><li>HTTP是可扩展的</li><li>HTTP是无状态的，有会话的</li></ul></li><li><p>Cookie</p><ul><li>是服务器发送到浏览器，并保存在浏览器端的一小块数据。</li><li>浏览器下次访问该服务器时，会自动携带块该数据，将其发送给服务器。</li></ul></li><li><p>Session</p><ul><li>是JavaEE的标准，用于在服务端记录客户端信息。</li><li>数据存放在服务端更加安全，但是也会增加服务端的内存压力。</li></ul><blockquote><p>Session 依赖于Cookie，Server在Client请求时生成Session（包含Client的一些信息），然后将携带SessionId的Cookie发送给Client</p><p>Client本地存储Cookie，下一次访问Server，服务器识别Client发送的Cookie中携带的SessionId，查找到属于特定Client的登录或其他信息。</p><p>以上可以综合Server和Client，不仅在一定程度上可以缓解双方压力，也能保证安全。</p><p>有必要就存，尽量使用Cookie，减小服务的压力。</p><p>分布式部署使用Session？</p><p>粘性Session——负载均衡不友好</p><p>同步Session——服务端需要同步Session，服务器之间有耦合</p><p>共享Session——单体Session服务器，服务器宕机会所有的都出现问题</p><p>以上可得出目前的处理方式：尽量存在Client端，否则存在服务端数据库。对于传统关系型数据可能仍然出现瓶颈，查询性能（内存中快，硬盘中慢）；但现在出现的NoSQL数据库（如Redis）可以很好的解决上述问题。</p></blockquote></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;HTTP的基本性质&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP是简单的&lt;/li&gt;
&lt;li&gt;HTTP是可扩展的&lt;/li&gt;
&lt;li&gt;HTTP是无状态的，有会话的&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cookie&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;是服务器发送到浏览</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="HTTP" scheme="http://yoursite.com/tags/HTTP/"/>
    
    <category term="Session" scheme="http://yoursite.com/tags/Session/"/>
    
    <category term="Cookie" scheme="http://yoursite.com/tags/Cookie/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区09  -  注册功能实现</title>
    <link href="http://yoursite.com/2019/06/30/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA09%20-%20%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2019/06/30/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA09%20-%20%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/</id>
    <published>2019-06-30T22:21:21.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>访问注册页面</p><ul><li>点击顶部区域内的链接，打开注册页面。</li></ul><blockquote><p>复用Thymeleaf的标签，复用头部区域</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;bg-dark sticky-top&quot;</span> <span class="attr">th:fragment</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在需要复用的地方</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;bg-dark sticky-top&quot;</span> <span class="attr">th:replace</span>=<span class="string">&quot;index::header&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>提交注册数据</p><ul><li>通过表单提交数据。</li><li>服务端验证账号是否已存在、邮箱是否已注册。</li><li>服务端发送激活邮件。</li></ul></li><li><p>激活注册账号</p><ul><li>点击邮件中的链接，访问服务端的激活服务。</li></ul><blockquote><p>在Service处理，三种结果：激活成功、激活失败、重复激活</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">activation</span><span class="params">(<span class="keyword">int</span> userId, String code)</span> </span>&#123;</span><br><span class="line">        User user = userMapper.selectById(userId);</span><br><span class="line">        <span class="keyword">if</span> (user.getStatus() == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ACTIVATION_REPEAT;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (user.getActivationCode().equals(code)) &#123;</span><br><span class="line">            userMapper.updateStatus(userId, <span class="number">1</span>);</span><br><span class="line">            clearCache(userId);</span><br><span class="line">            <span class="keyword">return</span> ACTIVATION_SUCCESS;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ACTIVATION_FAILURE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>LoginController处理请求</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(path = &quot;/activation/&#123;userId&#125;/&#123;code&#125;&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">activation</span><span class="params">(Model model, <span class="meta">@PathVariable(&quot;userId&quot;)</span> <span class="keyword">int</span> userId, <span class="meta">@PathVariable(&quot;code&quot;)</span> String code)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = userService.activation(userId, code);</span><br><span class="line">    <span class="keyword">if</span> (result == ACTIVATION_SUCCESS) &#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;激活成功,您的账号已经可以正常使用了!&quot;</span>);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;target&quot;</span>, <span class="string">&quot;/login&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (result == ACTIVATION_REPEAT) &#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;无效操作,该账号已经激活过了!&quot;</span>);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;target&quot;</span>, <span class="string">&quot;/index&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;激活失败,您提供的激活码不正确!&quot;</span>);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;target&quot;</span>, <span class="string">&quot;/index&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;/site/operate-result&quot;</span>;<span class="comment">//返回信息到激活页面</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;访问注册页面&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;点击顶部区域内的链接，打开注册页面。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;复用Thymeleaf的标签，复用头部区域&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlig</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="JavaMailSender" scheme="http://yoursite.com/tags/JavaMailSender/"/>
    
    <category term="Thymeleaf" scheme="http://yoursite.com/tags/Thymeleaf/"/>
    
  </entry>
  
  <entry>
    <title>hexo快速开始</title>
    <link href="http://yoursite.com/2019/06/30/hexo%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <id>http://yoursite.com/2019/06/30/hexo%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</id>
    <published>2019-06-30T16:10:29.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    <category term="随笔" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随笔" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区08  -  发送邮件</title>
    <link href="http://yoursite.com/2019/06/28/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA08%20-%20%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/"/>
    <id>http://yoursite.com/2019/06/28/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA08%20-%20%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/</id>
    <published>2019-06-28T23:31:25.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li>邮箱设置<ul><li>启用客户端SMTP服务</li></ul></li><li>Spring Email<ul><li>导入 jar 包</li><li>邮箱参数配置</li><li>使用 JavaMailSender 发送邮件</li></ul></li><li>模板引擎<ul><li>使用 Thymeleaf 发送 HTML 邮件</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;邮箱设置&lt;ul&gt;
&lt;li&gt;启用客户端SMTP服务&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Spring Email&lt;ul&gt;
&lt;li&gt;导入 jar 包&lt;/li&gt;
&lt;li&gt;邮箱参数配置&lt;/li&gt;
&lt;li&gt;使用 JavaMailSender 发送邮件&lt;/li&gt;
&lt;/</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="SMTP" scheme="http://yoursite.com/tags/SMTP/"/>
    
    <category term="JavaMailSender" scheme="http://yoursite.com/tags/JavaMailSender/"/>
    
  </entry>
  
  <entry>
    <title>JavaSpring项目使用Mail包发送邮件报错无法连接服务器Could not connect to SMTP host</title>
    <link href="http://yoursite.com/2019/06/28/JavaSpring%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8Mail%E5%8C%85%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E6%8A%A5%E9%94%99%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8Could-not-connect-to-SMTP-host/"/>
    <id>http://yoursite.com/2019/06/28/JavaSpring%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8Mail%E5%8C%85%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E6%8A%A5%E9%94%99%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8Could-not-connect-to-SMTP-host/</id>
    <published>2019-06-28T14:59:56.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>在使用SpringBoot的mail依赖库连接sina邮箱发送邮件时遇到如下问题：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: smtp.sina.com, port: 465;</span><br><span class="line">  nested exception is:</span><br><span class="line">javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: smtp.sina.com, port: 465;</span><br><span class="line">  nested exception is:</span><br><span class="line">javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span><br><span class="line">; message exception details (1) are:</span><br><span class="line">Failed message 1:</span><br><span class="line">javax.mail.MessagingException: Could not connect to SMTP host: smtp.sina.com, port: 465;</span><br><span class="line">  nested exception is:</span><br><span class="line">javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span><br><span class="line">at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2211)</span><br><span class="line">at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)</span><br><span class="line">at javax.mail.Service.connect(Service.java:342)</span><br><span class="line">at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)</span><br><span class="line">at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:437)</span><br><span class="line">at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:361)</span><br><span class="line">at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:356)</span><br><span class="line">at com.wx.talking.util.MailClient.sendMail(MailClient.java:36)</span><br><span class="line">at com.wx.talking.MailTests.testTextMail(MailTests.java:24)</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span><br><span class="line">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">at java.lang.reflect.Method.invoke(Method.java:497)</span><br><span class="line">at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)</span><br><span class="line">at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)</span><br><span class="line">at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)</span><br><span class="line">at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)</span><br><span class="line">at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)</span><br><span class="line">at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)</span><br><span class="line">at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)</span><br><span class="line">at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)</span><br><span class="line">at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)</span><br><span class="line">at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)</span><br><span class="line">at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)</span><br><span class="line">at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)</span><br><span class="line">at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)</span><br><span class="line">at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)</span><br><span class="line">at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)</span><br><span class="line">at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)</span><br><span class="line">at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)</span><br><span class="line">at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)</span><br><span class="line">at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)</span><br><span class="line">at org.junit.runners.ParentRunner.run(ParentRunner.java:363)</span><br><span class="line">at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)</span><br><span class="line">at org.junit.runner.JUnitCore.run(JUnitCore.java:137)</span><br><span class="line">at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)</span><br><span class="line">at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)</span><br><span class="line">at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)</span><br><span class="line">at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)</span><br><span class="line">Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span><br><span class="line">at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)</span><br><span class="line">at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)</span><br><span class="line">at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)</span><br><span class="line">at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)</span><br><span class="line">at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)</span><br><span class="line">at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)</span><br><span class="line">at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)</span><br><span class="line">at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)</span><br><span class="line">at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)</span><br><span class="line">at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)</span><br><span class="line">at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)</span><br><span class="line">at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)</span><br><span class="line">at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)</span><br><span class="line">at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:376)</span><br><span class="line">at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)</span><br><span class="line">at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)</span><br><span class="line">... 38 more</span><br><span class="line">Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span><br><span class="line">at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)</span><br><span class="line">at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)</span><br><span class="line">at sun.security.validator.Validator.validate(Validator.java:260)</span><br><span class="line">at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)</span><br><span class="line">at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)</span><br><span class="line">at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)</span><br><span class="line">at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)</span><br><span class="line">... 49 more</span><br><span class="line">Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span><br><span class="line">at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146)</span><br><span class="line">at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131)</span><br><span class="line">at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)</span><br><span class="line">at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)</span><br><span class="line">... 55 more</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><p>从日志可以定位原因——没有连接到服务器（smtp.sina.com），原因有很多：</p><ol><li>账号密码配置错误？</li><li>开启SSL登录，端口是否正确？</li><li>证书问题？</li></ol><p>本文遇到的就是第三个问题。</p><p>先放一张图，便于理解</p><p><img src="images/787477-20161130221429021-1790360354.png" alt="http协议"></p><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>当然，StackOverflow上也能找到对应解决方法。</p><p>代码在最后，先给出使用方法</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">Usage:</span><br><span class="line">Need to compile, first:</span><br><span class="line">javac InstallCert.java</span><br><span class="line"></span><br><span class="line">Note: since java 11, you can run it directly without compiling it first:</span><br><span class="line">java --source 11 InstallCert.java &lt;args&gt;</span><br><span class="line"></span><br><span class="line"># Access server, and retrieve certificate (accept default certificate 1)</span><br><span class="line">java InstallCert [--proxy&#x3D;proxyHost:proxyPort] &lt;host&gt;[:port] [passphrase]</span><br><span class="line"></span><br><span class="line"># Extract certificate from created jssecacerts keystore</span><br><span class="line">keytool -exportcert -alias [host]-1 -keystore jssecacerts -storepass changeit -file [host].cer</span><br><span class="line"></span><br><span class="line"># Import certificate into system keystore</span><br><span class="line">keytool -importcert -alias [host] -keystore [path to system keystore] -storepass changeit -file [host].cer</span><br><span class="line"></span><br><span class="line"># Example:</span><br><span class="line">java InstallCert woot.com:443</span><br><span class="line"></span><br><span class="line">    Loading KeyStore &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-6-sun-1.6.0.26&#x2F;jre&#x2F;lib&#x2F;security&#x2F;cacerts...</span><br><span class="line">    Opening connection to woot.com:443...</span><br><span class="line">    Starting SSL handshake...</span><br><span class="line"></span><br><span class="line">    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span><br><span class="line"></span><br><span class="line">    &lt;...&gt;</span><br><span class="line"></span><br><span class="line">    Server sent 1 certificate(s):</span><br><span class="line"></span><br><span class="line">     1 Subject O&#x3D;Woot Inc, C&#x3D;US, ST&#x3D;Texas, L&#x3D;Carrollton, CN&#x3D;*.woot.com</span><br><span class="line">       Issuer  CN&#x3D;SecureTrust CA, O&#x3D;SecureTrust Corporation, C&#x3D;US</span><br><span class="line">       sha1    4b 46 ca 6b 83 05 b3 51 ff c6 e7 9c fd b3 9b e3 3f 2e c4 53 </span><br><span class="line">       md5     e8 a5 88 1b d5 67 bb fc 88 cc b1 c5 2b ac c4 7d </span><br><span class="line"></span><br><span class="line">    Enter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]</span><br><span class="line"></span><br><span class="line">[enter]</span><br><span class="line"></span><br><span class="line">    [</span><br><span class="line">    [</span><br><span class="line">      Version: V3</span><br><span class="line">      Subject: O&#x3D;Woot Inc, C&#x3D;US, ST&#x3D;Texas, L&#x3D;Carrollton, CN&#x3D;*.woot.com</span><br><span class="line">      Signature Algorithm: SHA1withRSA, OID &#x3D; 1.2.840.113549.1.1.5</span><br><span class="line"></span><br><span class="line">    &lt;...&gt;</span><br><span class="line"></span><br><span class="line">    Added certificate to keystore &#39;jssecacerts&#39; using alias &#39;woot.com-1&#39;</span><br><span class="line"></span><br><span class="line">keytool -exportcert -alias woot.com-1 -keystore jssecacerts -storepass changeit -file woot.com.cer</span><br><span class="line"></span><br><span class="line">    Certificate stored in file &lt;woot.com.cer&gt;</span><br><span class="line">  </span><br><span class="line">(sudo) keytool -importcert -alias woot.com -keystore &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-6-sun-1.6.0.26&#x2F;jre&#x2F;lib&#x2F;security&#x2F;cacerts -storepass changeit -file woot.com.cer</span><br><span class="line"></span><br><span class="line">    Owner: O&#x3D;Woot Inc, C&#x3D;US, ST&#x3D;Texas, L&#x3D;Carrollton, CN&#x3D;*.woot.com</span><br><span class="line">    Issuer: CN&#x3D;SecureTrust CA, O&#x3D;SecureTrust Corporation, C&#x3D;US</span><br><span class="line">  </span><br><span class="line">    &lt;...&gt;</span><br><span class="line">  </span><br><span class="line">    Trust this certificate? [no]:</span><br><span class="line">  </span><br><span class="line">yes</span><br><span class="line"></span><br><span class="line">    Certificate was added to keystore</span><br></pre></td></tr></table></figure><p><code>//利用java生成证书文件，复制到jre的security文件夹</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line"> * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.</span><br><span class="line"> *</span><br><span class="line"> * Redistribution and use in source and binary forms, with or without</span><br><span class="line"> * modification, are permitted provided that the following conditions</span><br><span class="line"> * are met:</span><br><span class="line"> *</span><br><span class="line"> *   - Redistributions of source code must retain the above copyright</span><br><span class="line"> *     notice, this list of conditions and the following disclaimer.</span><br><span class="line"> *</span><br><span class="line"> *   - Redistributions in binary form must reproduce the above copyright</span><br><span class="line"> *     notice, this list of conditions and the following disclaimer in the</span><br><span class="line"> *     documentation and&#x2F;or other materials provided with the distribution.</span><br><span class="line"> *</span><br><span class="line"> *   - Neither the name of Sun Microsystems nor the names of its</span><br><span class="line"> *     contributors may be used to endorse or promote products derived</span><br><span class="line"> *     from this software without specific prior written permission.</span><br><span class="line"> *</span><br><span class="line"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS</span><br><span class="line"> * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,</span><br><span class="line"> * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</span><br><span class="line"> * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR</span><br><span class="line"> * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span><br><span class="line"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span><br><span class="line"> * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</span><br><span class="line"> * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF</span><br><span class="line"> * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span><br><span class="line"> * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span><br><span class="line"> * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span><br><span class="line"> *&#x2F;</span><br><span class="line">&#x2F;**</span><br><span class="line"> * Originally from:</span><br><span class="line"> * http:&#x2F;&#x2F;blogs.sun.com&#x2F;andreas&#x2F;resource&#x2F;InstallCert.java</span><br><span class="line"> * Use:</span><br><span class="line"> * java InstallCert hostname</span><br><span class="line"> * Example:</span><br><span class="line"> *% java InstallCert ecc.fedora.redhat.com</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">import javax.net.ssl.*;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.security.KeyStore;</span><br><span class="line">import java.security.MessageDigest;</span><br><span class="line">import java.security.cert.CertificateException;</span><br><span class="line">import java.security.cert.X509Certificate;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Class used to add the server&#39;s certificate to the KeyStore</span><br><span class="line"> * with your trusted certificates.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class InstallCert &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        String host;</span><br><span class="line">        int port;</span><br><span class="line">        char[] passphrase;</span><br><span class="line">        if ((args.length &#x3D;&#x3D; 1) || (args.length &#x3D;&#x3D; 2)) &#123;</span><br><span class="line">            String[] c &#x3D; args[0].split(&quot;:&quot;);</span><br><span class="line">            host &#x3D; c[0];</span><br><span class="line">            port &#x3D; (c.length &#x3D;&#x3D; 1) ? 443 : Integer.parseInt(c[1]);</span><br><span class="line">            String p &#x3D; (args.length &#x3D;&#x3D; 1) ? &quot;changeit&quot; : args[1];</span><br><span class="line">            passphrase &#x3D; p.toCharArray();</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            System.out.println(&quot;Usage: java InstallCert &lt;host&gt;[:port] [passphrase]&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        File file &#x3D; new File(&quot;jssecacerts&quot;);</span><br><span class="line">        if (file.isFile() &#x3D;&#x3D; false) &#123;</span><br><span class="line">            char SEP &#x3D; File.separatorChar;</span><br><span class="line">            File dir &#x3D; new File(System.getProperty(&quot;java.home&quot;) + SEP</span><br><span class="line">                    + &quot;lib&quot; + SEP + &quot;security&quot;);</span><br><span class="line">            file &#x3D; new File(dir, &quot;jssecacerts&quot;);</span><br><span class="line">            if (file.isFile() &#x3D;&#x3D; false) &#123;</span><br><span class="line">                file &#x3D; new File(dir, &quot;cacerts&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(&quot;Loading KeyStore &quot; + file + &quot;...&quot;);</span><br><span class="line">        InputStream in &#x3D; new FileInputStream(file);</span><br><span class="line">        KeyStore ks &#x3D; KeyStore.getInstance(KeyStore.getDefaultType());</span><br><span class="line">        ks.load(in, passphrase);</span><br><span class="line">        in.close();</span><br><span class="line"></span><br><span class="line">        SSLContext context &#x3D; SSLContext.getInstance(&quot;TLS&quot;);</span><br><span class="line">        TrustManagerFactory tmf &#x3D;</span><br><span class="line">                TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());</span><br><span class="line">        tmf.init(ks);</span><br><span class="line">        X509TrustManager defaultTrustManager &#x3D; (X509TrustManager) tmf.getTrustManagers()[0];</span><br><span class="line">        SavingTrustManager tm &#x3D; new SavingTrustManager(defaultTrustManager);</span><br><span class="line">        context.init(null, new TrustManager[]&#123;tm&#125;, null);</span><br><span class="line">        SSLSocketFactory factory &#x3D; context.getSocketFactory();</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;Opening connection to &quot; + host + &quot;:&quot; + port + &quot;...&quot;);</span><br><span class="line">        SSLSocket socket &#x3D; (SSLSocket) factory.createSocket(host, port);</span><br><span class="line">        socket.setSoTimeout(10000);</span><br><span class="line">        try &#123;</span><br><span class="line">            System.out.println(&quot;Starting SSL handshake...&quot;);</span><br><span class="line">            socket.startHandshake();</span><br><span class="line">            socket.close();</span><br><span class="line">            System.out.println();</span><br><span class="line">            System.out.println(&quot;No errors, certificate is already trusted&quot;);</span><br><span class="line">        &#125; catch (SSLException e) &#123;</span><br><span class="line">            System.out.println();</span><br><span class="line">            e.printStackTrace(System.out);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        X509Certificate[] chain &#x3D; tm.chain;</span><br><span class="line">        if (chain &#x3D;&#x3D; null) &#123;</span><br><span class="line">            System.out.println(&quot;Could not obtain server certificate chain&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        BufferedReader reader &#x3D;</span><br><span class="line">                new BufferedReader(new InputStreamReader(System.in));</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(&quot;Server sent &quot; + chain.length + &quot; certificate(s):&quot;);</span><br><span class="line">        System.out.println();</span><br><span class="line">        MessageDigest sha1 &#x3D; MessageDigest.getInstance(&quot;SHA1&quot;);</span><br><span class="line">        MessageDigest md5 &#x3D; MessageDigest.getInstance(&quot;MD5&quot;);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; chain.length; i++) &#123;</span><br><span class="line">            X509Certificate cert &#x3D; chain[i];</span><br><span class="line">            System.out.println</span><br><span class="line">                    (&quot; &quot; + (i + 1) + &quot; Subject &quot; + cert.getSubjectDN());</span><br><span class="line">            System.out.println(&quot;   Issuer  &quot; + cert.getIssuerDN());</span><br><span class="line">            sha1.update(cert.getEncoded());</span><br><span class="line">            System.out.println(&quot;   sha1    &quot; + toHexString(sha1.digest()));</span><br><span class="line">            md5.update(cert.getEncoded());</span><br><span class="line">            System.out.println(&quot;   md5     &quot; + toHexString(md5.digest()));</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;Enter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]&quot;);</span><br><span class="line">        String line &#x3D; reader.readLine().trim();</span><br><span class="line">        int k;</span><br><span class="line">        try &#123;</span><br><span class="line">            k &#x3D; (line.length() &#x3D;&#x3D; 0) ? 0 : Integer.parseInt(line) - 1;</span><br><span class="line">        &#125; catch (NumberFormatException e) &#123;</span><br><span class="line">            System.out.println(&quot;KeyStore not changed&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        X509Certificate cert &#x3D; chain[k];</span><br><span class="line">        String alias &#x3D; host + &quot;-&quot; + (k + 1);</span><br><span class="line">        ks.setCertificateEntry(alias, cert);</span><br><span class="line"></span><br><span class="line">        OutputStream out &#x3D; new FileOutputStream(&quot;jssecacerts&quot;);</span><br><span class="line">        ks.store(out, passphrase);</span><br><span class="line">        out.close();</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(cert);</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println</span><br><span class="line">                (&quot;Added certificate to keystore &#39;jssecacerts&#39; using alias &#39;&quot;</span><br><span class="line">                        + alias + &quot;&#39;&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static final char[] HEXDIGITS &#x3D; &quot;0123456789abcdef&quot;.toCharArray();</span><br><span class="line"></span><br><span class="line">    private static String toHexString(byte[] bytes) &#123;</span><br><span class="line">        StringBuilder sb &#x3D; new StringBuilder(bytes.length * 3);</span><br><span class="line">        for (int b : bytes) &#123;</span><br><span class="line">            b &amp;&#x3D; 0xff;</span><br><span class="line">            sb.append(HEXDIGITS[b &gt;&gt; 4]);</span><br><span class="line">            sb.append(HEXDIGITS[b &amp; 15]);</span><br><span class="line">            sb.append(&#39; &#39;);</span><br><span class="line">        &#125;</span><br><span class="line">        return sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static class SavingTrustManager implements X509TrustManager &#123;</span><br><span class="line"></span><br><span class="line">        private final X509TrustManager tm;</span><br><span class="line">        private X509Certificate[] chain;</span><br><span class="line"></span><br><span class="line">        SavingTrustManager(X509TrustManager tm) &#123;</span><br><span class="line">            this.tm &#x3D; tm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public X509Certificate[] getAcceptedIssuers() &#123;</span><br><span class="line">   </span><br><span class="line">    &#x2F;** </span><br><span class="line">     * This change has been done due to the following resolution advised for Java 1.7+</span><br><span class="line">http:&#x2F;&#x2F;infposs.blogspot.kr&#x2F;2013&#x2F;06&#x2F;installcert-and-java-7.html</span><br><span class="line">            **&#x2F; </span><br><span class="line">    </span><br><span class="line">    return new X509Certificate[0];</span><br><span class="line">            &#x2F;&#x2F;throw new UnsupportedOperationException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void checkClientTrusted(X509Certificate[] chain, String authType)</span><br><span class="line">                throws CertificateException &#123;</span><br><span class="line">            throw new UnsupportedOperationException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void checkServerTrusted(X509Certificate[] chain, String authType)</span><br><span class="line">                throws CertificateException &#123;</span><br><span class="line">            this.chain &#x3D; chain;</span><br><span class="line">            tm.checkServerTrusted(chain, authType);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h1&gt;&lt;p&gt;在使用SpringBoot的mail依赖库连接sina邮箱发送邮件时遇到如下问题：&lt;/p&gt;
&lt;figure class=&quot;highlight</summary>
      
    
    
    
    <category term="编程笔记" scheme="http://yoursite.com/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区07  -  版本控制</title>
    <link href="http://yoursite.com/2019/06/26/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA07%20-%20%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"/>
    <id>http://yoursite.com/2019/06/26/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA07%20-%20%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/</id>
    <published>2019-06-26T23:13:25.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li>认识Git<ul><li>Git简介</li><li>Git的安装与配置</li></ul></li><li>Git常用命令<ul><li>将代码提交至本地仓库</li><li>将代码上传至远程仓库</li></ul></li><li>IDEA集成Git<ul><li>在IDEA中配置并使用Git</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 账号配置</span><br><span class="line">git config --<span class="built_in">list</span></span><br><span class="line">git config --global user.name <span class="string">&quot;wangxu&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;xxx@gmail.com&quot;</span></span><br><span class="line"># 本地仓库</span><br><span class="line">git init</span><br><span class="line">git status -s</span><br><span class="line">git add *</span><br><span class="line">git commit -m &#x27;...&#x27;</span><br><span class="line"># 生成秘钥</span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;xxx@gmail.com&quot;</span></span><br><span class="line"># 推送已有项目</span><br><span class="line">git remote add origin</span><br><span class="line">https:<span class="comment">//github.com/4Details/Test.git</span></span><br><span class="line">git push -u origin master</span><br><span class="line"># 克隆已有仓库</span><br><span class="line">git clone https:<span class="comment">//github.com/4Details/Test.git</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;认识Git&lt;ul&gt;
&lt;li&gt;Git简介&lt;/li&gt;
&lt;li&gt;Git的安装与配置&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Git常用命令&lt;ul&gt;
&lt;li&gt;将代码提交至本地仓库&lt;/li&gt;
&lt;li&gt;将代码上传至远程仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;IDE</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
    <category term="Git" scheme="http://yoursite.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区06  -  项目调试技巧</title>
    <link href="http://yoursite.com/2019/06/23/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA06%20-%20%E9%A1%B9%E7%9B%AE%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7/"/>
    <id>http://yoursite.com/2019/06/23/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA06%20-%20%E9%A1%B9%E7%9B%AE%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7/</id>
    <published>2019-06-23T23:10:05.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li>响应状态码的含义</li><li>服务端断点调试技巧</li><li>客户端断点调试技巧</li><li>设置日志级别，并将日志输出到不同的终端</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;响应状态码的含义&lt;/li&gt;
&lt;li&gt;服务端断点调试技巧&lt;/li&gt;
&lt;li&gt;客户端断点调试技巧&lt;/li&gt;
&lt;li&gt;设置日志级别，并将日志输出到不同的终端&lt;/li&gt;
&lt;/ul&gt;
</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="编程笔记" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Bug调试" scheme="http://yoursite.com/tags/Bug%E8%B0%83%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区05  -  讨论社区首页实现</title>
    <link href="http://yoursite.com/2019/06/21/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA05%20-%20%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A6%96%E9%A1%B5%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2019/06/21/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA05%20-%20%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A6%96%E9%A1%B5%E5%AE%9E%E7%8E%B0/</id>
    <published>2019-06-21T22:03:25.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<ul><li>开发流程<ul><li>1次请求的执行过程</li></ul></li><li>分步实现</li><li>开发社区首页，显示前10个帖子</li><li>开发分页组件，分页显示所有的帖子</li></ul><p>![Spring MVC流程](/images/讨论社区05 - 讨论社区首页实现.assets/20191114210434.png)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;开发流程&lt;ul&gt;
&lt;li&gt;1次请求的执行过程&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;分步实现&lt;/li&gt;
&lt;li&gt;开发社区首页，显示前10个帖子&lt;/li&gt;
&lt;li&gt;开发分页组件，分页显示所有的帖子&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;![Spring MVC流程](/</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区04  -  Mybatis  入门</title>
    <link href="http://yoursite.com/2019/06/18/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA04%20-%20MyBatis-%E5%85%A5%E9%97%A8/"/>
    <id>http://yoursite.com/2019/06/18/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA04%20-%20MyBatis-%E5%85%A5%E9%97%A8/</id>
    <published>2019-06-18T21:00:28.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="安装数据库"><a href="#安装数据库" class="headerlink" title="安装数据库"></a>安装数据库</h1><ul><li>安装MySQL Server</li><li>安装MySQL Workbench</li></ul><h1 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h1><ul><li>核心组件<ul><li>SqlSessionFactory：用于创建SqlSession的工厂类。</li><li>SqlSession：MyBatis的核心组件，用于向数据库执行SQL。</li><li>主配置文件：XML配置文件，可以对MyBatis的底层行为做出详细的配置。</li><li>Mapper接口：就是DAO接口，在MyBatis中习惯性的称之为Mapper。</li><li>Mapper映射器：用于编写SQL，并将SQL和实体类映射的组件，采用XML、注解均可实现。</li></ul></li><li>示例<ul><li>使用MyBatis对用户表进行CRUD操作。</li></ul></li><li>在application.properties中配置数据库、Mybatis相关。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;安装数据库&quot;&gt;&lt;a href=&quot;#安装数据库&quot; class=&quot;headerlink&quot; title=&quot;安装数据库&quot;&gt;&lt;/a&gt;安装数据库&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;安装MySQL Server&lt;/li&gt;
&lt;li&gt;安装MySQL Workbench&lt;/li&gt;
&lt;/ul&gt;</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
    <category term="Mybatis" scheme="http://yoursite.com/tags/Mybatis/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区02 - Spring 入门</title>
    <link href="http://yoursite.com/2019/06/16/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA02%20-%20Spring-%E5%85%A5%E9%97%A8/"/>
    <id>http://yoursite.com/2019/06/16/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA02%20-%20Spring-%E5%85%A5%E9%97%A8/</id>
    <published>2019-06-16T20:56:39.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring全家桶"><a href="#Spring全家桶" class="headerlink" title="Spring全家桶"></a>Spring全家桶</h1><ul><li>Spring Framework </li><li>Spring Boot</li><li>Spring Cloud (微服务,大项目拆分成若干子项目)</li><li>Spring Cloud Data Flow(数据集成)</li><li>官网: <a href="https://spring.io/">https://spring.io</a></li></ul><h1 id="Spring-Framework"><a href="#Spring-Framework" class="headerlink" title="Spring Framework"></a>Spring Framework</h1><ul><li>Spring Core</li><li>IoC、AOP  (管理对象的思想,spring管理的对象叫做Bean.)</li><li>Spring Data Access<ul><li>Transactions(事务)、Spring MyBatis</li></ul></li><li>Web Servlet<ul><li>Spring MVC</li></ul></li><li>Integration(集成)<ul><li>Email、Scheduling(定时任务)、AMQP(消息队列)、Security(安全控制)</li></ul></li></ul><h1 id="Spring-IoC"><a href="#Spring-IoC" class="headerlink" title="Spring IoC"></a>Spring IoC</h1><ul><li>Inversion of Control<ul><li>控制反转，是一种面向对象编程的设计思想。</li></ul></li><li>Dependency Injection</li><li>依赖注入，是IoC思想的实现方式。</li><li>IoC Container</li><li>IoC容器，是实现依赖注入的关键，本质上是一个工厂。</li><li>容器管理Bean的前提:提供Bean的类型,通过配置文件配置Bean之间的关系.</li><li>降低Bean之间的耦合度</li></ul><h1 id="代码部分"><a href="#代码部分" class="headerlink" title="代码部分"></a>代码部分</h1><ul><li>主动获取:</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TalkingApplication</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">SpringApplication.run(CommunityApplication.class, args);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">配置类,启动时自动扫描,扫描配置类所在的包以及子包下的Bean.</span><br><span class="line"><span class="meta">@Component</span> <span class="meta">@Repository</span> <span class="meta">@Service</span> <span class="meta">@Controller</span></span><br></pre></td></tr></table></figure><p>测试代码要以其为配置类,需加上注解:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ContextConfiguration(classes = TalkingApplication.class)</span></span><br></pre></td></tr></table></figure><p>想要使用spring容器需要实现接口,ApplicationContextAware,实现接口中set方法.传入参数applicationContext(spring容器),他是一个接口,继承自BeanFactory.</p><p>获取Bean:applicationContext.getBean(test.class);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TalkingApplicationTests</span> <span class="keyword">implements</span> <span class="title">ApplicationContextAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setApplicationContext</span><span class="params">(ApplicationContext applicationContext)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.applicationContext = applicationContext;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>给Bean自定义名字:@Component(“名字”)</p><p>初始化方法@PostConstruct,在构造器之后调用.销毁对象之前调用,@PreDestroy.</p><p>@Scope()指定单例多例</p><p>@Configuration配置类,用以装载使用第三方类.</p><ul><li>自动注入:<ul><li>@Autowired</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring全家桶&quot;&gt;&lt;a href=&quot;#Spring全家桶&quot; class=&quot;headerlink&quot; title=&quot;Spring全家桶&quot;&gt;&lt;/a&gt;Spring全家桶&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;Spring Framework &lt;/li&gt;
&lt;li&gt;Spring Bo</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>讨论社区03  -  Spring MVC 入门</title>
    <link href="http://yoursite.com/2019/06/14/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA03%20-%20Spring-MVC-%E5%85%A5%E9%97%A8/"/>
    <id>http://yoursite.com/2019/06/14/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA03%20-%20Spring-MVC-%E5%85%A5%E9%97%A8/</id>
    <published>2019-06-14T21:00:28.000Z</published>
    <updated>2020-08-29T14:03:15.937Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><ul><li>HyperText Transfer Protocol</li><li>用于传输HTML等内容的应用层协议</li><li>规定了浏览器和服务器之间如何通信，以及通信时的数据格式。</li><li>学习网站：<a href="https://developer.mozilla.org/zh-CN">https://developer.mozilla.org/zh-CN</a></li></ul><p>浏览器服务器通信步骤：</p><ol><li>打开一个TCP连接</li><li>发生一个HTTP报文 </li><li>读取服务器返回的报文信息</li><li>关闭连接或为后续请求重用连接</li></ol><ul><li>按下F12进入调试，在Network下看请求响应（Header和Response）</li></ul><h1 id="Spring-MVC"><a href="#Spring-MVC" class="headerlink" title="Spring MVC"></a>Spring MVC</h1><ul><li>三层架构<ul><li>表现层(mvc)、业务层、数据访问层</li></ul></li><li>MVC(设计模式)</li><li>Model：模型层</li><li>View：视图层</li><li>Controller：控制层</li><li>核心组件<ul><li>前端控制器：DispatcherServlet</li></ul></li></ul><p>浏览器访问服务器，首先访问的时Controller控制层，Controller调用业务层处理，处理完后将得到的数据封装到Model,传给视图层。</p><p> ![Spring MVC官方架构](/images/讨论社区03 - Spring-MVC-入门.assets/image-20191111134655288.png)</p><h1 id="Thymeleaf"><a href="#Thymeleaf" class="headerlink" title="Thymeleaf"></a>Thymeleaf</h1><ul><li><p>模板引擎</p><ul><li>生成动态的HTML。</li></ul></li><li><p>Thymeleaf</p><ul><li>倡导自然模板，即以HTML文件为模板。</li></ul></li><li><p>常用语法</p><ul><li>标准表达式、判断与循环、模板的布局。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--声明thymeleaf模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span> <span class="attr">xmlns:sec</span>=<span class="string">&quot;http://www.thymeleaf.org/extras/spring-security&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--静态资源也需要做路径处理，带url的不需要处理--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/css/global.css&#125;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/css/discuss-detail.css&#125;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--标签是否显示demo--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--usernameMsg为Controller的model传过来的值--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-10&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">th:class</span>=<span class="string">&quot;|form-control $&#123;usernameMsg!=null?&#x27;is-invalid&#x27;:&#x27;&#x27;&#125;|&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">th:value</span>=<span class="string">&quot;$&#123;user!=null?user.username:&#x27;&#x27;&#125;&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入您的账号!&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;invalid-feedback&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;usernameMsg&#125;&quot;</span>&gt;</span></span><br><span class="line">该账号已存在!</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>变量用  <code>$&#123;变量名&#125;</code>， href 中使用 <code>@&#123;url地址&#125;</code>，常量与变量拼接 <code>|常量+&#123;变量名&#125;|</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:utext</span>=<span class="string">&quot;$&#123;post.title&#125;&quot;</span>&gt;</span>test title<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;nav-link&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/index&#125;&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;|/comment/add/$&#123;post.id&#125;|&#125;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="代码部分"><a href="#代码部分" class="headerlink" title="代码部分"></a>代码部分</h1><p>底层：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/http&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">http</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 获取请求数据</span></span><br><span class="line">    System.out.println(request.getMethod());</span><br><span class="line">    System.out.println(request.getServletPath());</span><br><span class="line">    Enumeration&lt;String&gt; enumeration = request.getHeaderNames();</span><br><span class="line">    <span class="keyword">while</span> (enumeration.hasMoreElements()) &#123;</span><br><span class="line">        String name = enumeration.nextElement();</span><br><span class="line">        String value = request.getHeader(name);</span><br><span class="line">        System.out.println(name + <span class="string">&quot;: &quot;</span> + value);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(request.getParameter(<span class="string">&quot;code&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回响应数据</span></span><br><span class="line">    response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">    <span class="keyword">try</span> (</span><br><span class="line">        PrintWriter writer = response.getWriter();</span><br><span class="line">    ) &#123;</span><br><span class="line">        writer.write(<span class="string">&quot;&lt;h1&gt;xx网&lt;/h1&gt;&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从路径中得到变量GET（两种方法）：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(path = &quot;/students&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getStudents</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="meta">@RequestParam(name = &quot;current&quot;, required = false, defaultValue = &quot;1&quot;)</span> <span class="keyword">int</span> current,</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="meta">@RequestParam(name = &quot;limit&quot;, required = false, defaultValue = &quot;10&quot;)</span> <span class="keyword">int</span> limit)</span> </span>&#123;</span><br><span class="line">    System.out.println(current);</span><br><span class="line">    System.out.println(limit);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;some students&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(path = &quot;/student/&#123;id&#125;&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getStudent</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    System.out.println(id);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;a student&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>POST请求:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(path = &quot;/student&quot;, method = RequestMethod.POST)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">saveStudent</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">    System.out.println(age);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>响应HTML数据(使用ModelAndView或Model):</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(path = &quot;/teacher&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">getTeacher</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ModelAndView mav = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">    mav.addObject(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    mav.addObject(<span class="string">&quot;age&quot;</span>, <span class="number">30</span>);</span><br><span class="line">    mav.setViewName(<span class="string">&quot;/demo/view&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> mav;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(path = &quot;/school&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getSchool</span><span class="params">(Model model)</span> </span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;北京大学&quot;</span>);</span><br><span class="line">    model.addAttribute(<span class="string">&quot;age&quot;</span>, <span class="number">80</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;/demo/view&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 响应JSON数据(异步请求)：Java对象 -&gt; JSON字符串 -&gt; JS对象,使用<code>@ResponseBody</code> 注解</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(path = &quot;/emp&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getEmp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map&lt;String, Object&gt; emp = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    emp.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    emp.put(<span class="string">&quot;age&quot;</span>, <span class="number">23</span>);</span><br><span class="line">    <span class="keyword">return</span> emp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//转换为json字符串  &#123;&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:&quot;23&quot;&#125;</span></span><br><span class="line"><span class="comment">//也可以返回List&lt;Map&lt;String, Object&gt;&gt;，list集合。</span></span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;HTTP&quot;&gt;&lt;a href=&quot;#HTTP&quot; class=&quot;headerlink&quot; title=&quot;HTTP&quot;&gt;&lt;/a&gt;HTTP&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;HyperText Transfer Protocol&lt;/li&gt;
&lt;li&gt;用于传输HTML等内容的应用层协议&lt;/</summary>
      
    
    
    
    <category term="讨论社区项目" scheme="http://yoursite.com/categories/%E8%AE%A8%E8%AE%BA%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="SpringMVC" scheme="http://yoursite.com/tags/SpringMVC/"/>
    
  </entry>
  
</feed>
